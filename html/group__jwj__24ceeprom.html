<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>BLE IR Remote: 24C EEPROM library</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">BLE IR Remote
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Bluetooth LE enabled multi-remote controller.</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group__jwj__24ceeprom.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">24C EEPROM library</div>  </div>
</div><!--header-->
<div class="contents">

<p>Utility functions for using 24C series EEPROMs.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr class="memitem:gaaa6cf79c8db30749fdc1022ee5f673e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__jwj__24ceeprom.html#gaaa6cf79c8db30749fdc1022ee5f673e5">EEPROM_ADDRESS</a>&#160;&#160;&#160;0xA0</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf63d7f39b4ac6560d4f0006ff6f2a9e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__jwj__24ceeprom.html#gaf63d7f39b4ac6560d4f0006ff6f2a9e4">writeByte</a> (int address, uint8_t data)</td></tr>
<tr class="memitem:ga651e55eecf458695047f09a8b1042b97"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__jwj__24ceeprom.html#ga651e55eecf458695047f09a8b1042b97">writePage</a> (int address, unsigned char *data, uint8_t len)</td></tr>
<tr class="memitem:gaf4431c122495125604cd8c273b75a9e8"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__jwj__24ceeprom.html#gaf4431c122495125604cd8c273b75a9e8">readByte</a> (int address)</td></tr>
<tr class="memitem:ga491eb70b656706164e85bcaa06802067"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__jwj__24ceeprom.html#ga491eb70b656706164e85bcaa06802067">readCurrentByte</a> ()</td></tr>
<tr class="memitem:gafbed54802c54fd7fd5d442853bca2053"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__jwj__24ceeprom.html#gafbed54802c54fd7fd5d442853bca2053">readData</a> (int address, unsigned char *data, int len)</td></tr>
<tr class="memdesc:gafbed54802c54fd7fd5d442853bca2053"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads sequential data.  <a href="#gafbed54802c54fd7fd5d442853bca2053"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &quot;24c_eeprom.h&quot;</span> 
</pre></div><p>24C EEPROM Library</p>
<p>The 24C EEPROM library contains helper functions for using the 24C (specifically, M24C64) series EEPROMs.</p>
<dl class="section note"><dt>Note:</dt><dd>This library requires I2C functions compatible with <a href="http://jump.to/fleury">Peter Fleury's I2C (TWI) Master Software Library</a>!</dd></dl>
<dl class="section author"><dt>Author:</dt><dd>Jens Willy Johannsen <a href="#" onclick="location.href='mai'+'lto:'+'jen'+'s@'+'jen'+'sw'+'ill'+'y.'+'dk'; return false;">jens@<span style="display: none;">.nosp@m.</span>jens<span style="display: none;">.nosp@m.</span>willy<span style="display: none;">.nosp@m.</span>.dk</a> <a href="http://atomslagstyrken.dk/arduino">http://atomslagstyrken.dk/arduino</a> </dd></dl>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="gaaa6cf79c8db30749fdc1022ee5f673e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="group__jwj__24ceeprom.html#gaaa6cf79c8db30749fdc1022ee5f673e5">EEPROM_ADDRESS</a>&#160;&#160;&#160;0xA0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Defines the I2C device address of the EEPROM device. This address must already be shifted one byte to the left to make room for the read/write bit. So for a device where the upper four bits are configured as 1010 (e.g. M24C64) and the Chip Enable pins E2:E0 are all tied to ground, the final address is 0xA0. </p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gaf4431c122495125604cd8c273b75a9e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="group__jwj__24ceeprom.html#gaf4431c122495125604cd8c273b75a9e8">readByte</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reads one byte from the specified address. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The 16 bit address to read from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The 8 bit value stored at the specified address. </dd></dl>

</div>
</div>
<a class="anchor" id="ga491eb70b656706164e85bcaa06802067"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="group__jwj__24ceeprom.html#ga491eb70b656706164e85bcaa06802067">readCurrentByte</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reads the byte at the current memory address. The address pointer is incremented after reading. </p>
<dl class="section return"><dt>Returns:</dt><dd>The 8 bit value stored at the current memory address. </dd></dl>

</div>
</div>
<a class="anchor" id="gafbed54802c54fd7fd5d442853bca2053"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__jwj__24ceeprom.html#gafbed54802c54fd7fd5d442853bca2053">readData</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The 16 bit memory address to start reading from. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to a buffer to receive read data. </td></tr>
    <tr><td class="paramname">len</td><td>Number of bytes to read.</td></tr>
  </table>
  </dd>
</dl>
<p>This function reads <code>len</code> bytes from the specified address and forward. </p>

</div>
</div>
<a class="anchor" id="gaf63d7f39b4ac6560d4f0006ff6f2a9e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__jwj__24ceeprom.html#gaf63d7f39b4ac6560d4f0006ff6f2a9e4">writeByte</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Writes a single byte to the specified destination address. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The 16 bit memory address to write to. </td></tr>
    <tr><td class="paramname">data</td><td>The 8 bit value to store. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga651e55eecf458695047f09a8b1042b97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__jwj__24ceeprom.html#ga651e55eecf458695047f09a8b1042b97">writePage</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Writes a 32 byte page to the specified address. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The 16 bit memory address to write to. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the data to write. </td></tr>
    <tr><td class="paramname">len</td><td>Length of data to write. <b>NOTE: This may not exceed 32 bytes</b></td></tr>
  </table>
  </dd>
</dl>
<p>A page is 32 bytes long. When writing a page, an internal memory address pointer is increased for every byte. But only the last 5 bits are increased. So if the data is longer than 32 bytes or the address is not aligned to the start of a page, the address pointer will wrap around to the start of the page and continue writing.</p>
<dl class="section warning"><dt>Warning:</dt><dd>To align the address to the start of a page, the last five bits of the address <em>must</em> be 0. If this is not the case, the address pointer will wrap around to the start of the page and continue so the data written will not be in the same sequence as the original data. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>

    <li class="footer">Generated on Tue May 8 2012 12:16:47 for BLE IR Remote by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.0 </li>
   </ul>
 </div>


</body>
</html>
